CREATE database class2db;

use class2db;

create table if not exists employee(
    roll INT,
    name varchar(50),
    address varchar(50),
    city Varchar(50)
);

insert into employee values(1, 'John', '123 Main St', 'New York');
insert into employee values(2, 'Jane', '456 Elm St', 'Los Angeles');
insert into employee values(3, 'Jim', '789 Oak St', 'Chicago');

select * from employee;

# add new column named date of birth in the table

alter table employee add DOB date;

select * from employee;

--change or modify existing column in a column or chnage dtat type of name column or increase length of name column

alter table employee modify name varchar(100);
ALTER TABLE employee modify address VARCHAR(100);

select * from employee;

--- delete existing column from given table for example to remove city column from table employee

alter table employee drop column city;

select * from employee;

-- rename the column to full name from name

alter table employee rename column name to full_name;

select * from employee;

-- add a unique constraint on the id column

alter table employee add constraint unique_id unique(roll);

insert into employee values(1, 'John', '123 Main St', '2021-08-09');

-- the above command did nt get executed because we already have the entry for roll 1 so we have to drop constraint from existing table 

alter table employee drop constraint unique_id;

insert into employee values(1, 'John', '123 Main St', '2021-08-09');\

-- the above command will get executed successfully

select * from employee;

 
--create table with primary key

create table persons
(
    id INT,
    name varchar(50),
    address varchar(50),
    age int,
    --- primary key(id) or primary key(id,name) is a composite key

    constraint pk primary key(id)
)

select * from persons;

insert into persons values(1, 'John', '123 Main St', 25);
insert into persons values(2, 'Jane', '456 Elm St', 30);

insert into persons values(1, 'Jim', '789 Oak St', 35);

--- this will not get executed because we already have the entry for id 1

select * from persons;

insert into persons values(null, 'Jim', '789 Oak St', 35);

--- column id cannot be null because we have defined it as primary key so we have to drop the primary key constraint from the table

alter table persons add constraint age_unq unique (age);

select * from persons;
insert into persons values(3, 'Jim', '789 Oak St', 25);

--- the above command will not get executed successfully because we have added unique constraint on age column 

insert into persons values(4, 'Jim', '789 Oak St', null);

--- the above command will get executed successfully because we have not added any constraint on null values

select * from persons;

insert into persons values(5, 'Jdim', '78d9 Oak St', null);

--- the above command will get executed successfully as here the system is treating every null as a diifferent value but this doesn't generally happen in other databases like oracle or sql server

insert into persons values(6, 'Jdim', '78d9 Oak St', 78);

Select * from persons;
